{"ast":null,"code":"var __jsx = React.createElement;\nimport DashboardView from '../src/pages/Dashboard/DashboardView';\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport fetch from 'node-fetch';\nimport { Redirect } from 'react-router-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from 'react-apollo';\nimport { createHttpLink } from 'apollo-link-http';\nconst link = createHttpLink({\n  uri: '/graphql',\n  fetch: fetch\n});\nexport default function DashboardPage(props) {\n  console.log(Cookies.get('GofarDashboardToken'));\n  debugger; // TODO if not logged in redirect to login\n\n  if (Cookies.get('GofarDashboardToken') && Cookies.get('GofarDashboardUserId')) {\n    __jsx(Redirect, {\n      to: \"/dashboard\"\n    });\n  } else {\n    __jsx(Redirect, {\n      to: \"/login\"\n    });\n  }\n\n  const client = new ApolloClient({\n    uri: 'https://jt63wdhqqre6rpjo5lnylfhjqm.appsync-api.ap-southeast-2.amazonaws.com/graphql',\n    headers: {\n      Authorization: Cookies.get('GofarDashboardToken'),\n      UserID: Cookies.get('GofarDashboardUserId'),\n      'X-API-KEY': 'da2-d5trhzrnqraznclr2teue2bmmu'\n    },\n    fetch\n  });\n  return __jsx(ApolloProvider, {\n    client: client\n  }, __jsx(DashboardView, null));\n}\n\nDashboardPage.getInitialProps = ctx => {\n  return {\n    cookies: ctx.req.cookie\n  };\n};","map":null,"metadata":{},"sourceType":"module"}